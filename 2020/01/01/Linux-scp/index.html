<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><title>每天学习一个 Linux 指令 1 scp | SamLai'Blog</title><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="author" content="[object Object]"><meta name="designer" content="minfive"><meta name="keywords" content="java,spring,spring-boot,mq,docker"><meta name="description" content="A Java Programmer,Never To Late..."><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=yes"><meta name="mobile-web-app-capable" content="yes"><meta name="robots" content="all"><link rel="canonical" href="https://zuoyoulai.github.io/2020/01/01/Linux-scp/index.html"><link rel="icon" type="image/png" href="https://image.baidu.com/search/detail?ct=503316480&z=&tn=baiduimagedetail&ipn=d&word=icon%20%E7%A7%91%E6%8A%80&step_word=&ie=utf-8&in=&cl=2&lm=-1&st=-1&hd=&latest=&copyright=&cs=380845249,1544155353&os=2032694909,351738893&simid=0,0&pn=91&rn=1&di=90750&ln=817&fr=&fmq=1577256973347_R&ic=&s=undefined&se=&sme=&tab=0&width=&height=&face=undefined&is=0,0&istype=2&ist=&jit=&bdtype=0&spn=0&pi=0&gsm=0&objurl=http%3A%2F%2Fpic.51yuansu.com%2Fpic3%2Fcover%2F03%2F71%2F81%2F5bfe105f5c40d_610.jpg&rpstart=0&rpnum=0&adpicid=0&force=undefined" sizes="32x32"><link rel="stylesheet" href="/scss/base/index.css"><link rel="alternate" href="/atom.xml" title="左之右"><link rel="stylesheet" href="/scss/views/page/post.css"><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="左之右" type="application/atom+xml"></head><body ontouchstart><div id="page-loading" class="page page-loading" style="background-image:url(https://i.loli.net/2019/12/30/L5a7ElW9COPd8eK.gif)"></div><div id="page" class="page js-hidden"><header class="page__small-header page__header--small"><nav class="page__navbar"><div class="page__container navbar-container"><a class="page__logo" href="/" title="左之右" alt="左之右"><img src="https://i.loli.net/2019/12/26/t8TdlczoUKpMw6X.jpg" alt="左之右"></a><nav class="page__nav"><ul class="nav__list clearfix"><li class="nav__item"><a href="/" alt="首页" title="首页">首页</a></li><li class="nav__item"><a href="/archives" alt="归档" title="归档">归档</a></li></ul></nav><button class="page__menu-btn" type="button"><i class="iconfont icon-menu"></i></button></div></nav></header><main class="page__container page__main"><div class="page__content"><article class="page__post"><div class="post__cover"><img src="https://i.loli.net/2019/12/27/RNPFAaSlXDMTEIQ.jpg" alt="每天学习一个 Linux 指令 1  scp"></div><header class="post__info"><h1 class="post__title">每天学习一个 Linux 指令 1 scp</h1><div class="post__mark"><div class="mark__block"><i class="mark__icon iconfont icon-write"></i><ul class="mark__list clearfix"><li class="mark__item"><a href="https://github.com/ZuoYouLai" target="_blank" rel="noopener">samlai</a></li></ul></div><div class="mark__block"><i class="mark__icon iconfont icon-time"></i><ul class="mark__list clearfix"><li class="mark__item"><span>2020-01-01</span></li></ul></div><div class="mark__block"><i class="mark__icon iconfont icon-tab"></i><ul class="mark__list clearfix"><li class="mark__item"><a href="/tags/Linux/">Linux</a></li></ul></div><div class="mark__block"><i class="mark__icon iconfont icon-eye"></i><ul class="mark__list clearfix"><li id="busuanzi_container_page_pv" class="mark__item"><span id="busuanzi_value_page_pv"></span>次</li></ul></div></div></header><div class="post__content"><h2><span id="mei-tian-xue-xi-yi-ge-linux-zhi-ling-1-scp">每天学习一个 Linux 指令 1 : scp</span><a href="#mei-tian-xue-xi-yi-ge-linux-zhi-ling-1-scp" class="header-anchor"></a></h2><div class="toc"><ul><li><a href="#shuo-ming">说明</a></li><li><a href="#ming-ling-ge-shi">命令格式</a><ul><li><a href="#escape-figure-class-highlight-plain-table-tr-td-class-gutter-pre-span-class-line-1-span-br-span-class-line-2-span-br-pre-td-td-class-code-pre-span-class-line-span-br-span-class-line-scp-can-shu-yuan-lu-jing-mu-biao-lu-jing-span-br-pre-td-tr-table-figure-escape"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">scp [参数] [源路径] [目标路径]</span><br></pre></td></tr></table></figure></a></li></ul></li><li><a href="#ming-ling-can-shu">命令参数</a><ul><li><a href="#shi-li">实例</a></li></ul></li><li><a href="#fu-zhi-wen-jian">复制文件</a></li><li><a href="#fu-zhi-mu-lu">复制目录</a><ul><li><a href="#escape-figure-class-highlight-plain-table-tr-td-class-gutter-pre-span-class-line-1-span-br-span-class-line-2-span-br-span-class-line-3-span-br-pre-td-td-class-code-pre-span-class-line-span-br-span-class-line-scp-r-local-folder-remote-username-remote-ip-remote-folder-zhi-ding-liao-yong-hu-ming-ming-ling-zhi-xing-hou-xu-yao-shu-ru-yong-hu-mi-ma-span-br-span-class-line-scp-r-local-folder-remote-ip-remote-folder-mei-you-zhi-ding-yong-hu-ming-ming-ling-zhi-xing-hou-xu-yao-shu-ru-yong-hu-ming-he-mi-ma-span-br-pre-td-tr-table-figure-escape"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">scp -r local_folder remote_username@remote_ip:remote_folder  :  指定了用户名，命令执行后需要输入用户密码 </span><br><span class="line">scp -r local_folder remote_ip:remote_folder   :    没有指定用户名，命令执行后需要输入用户名和密码</span><br></pre></td></tr></table></figure></a></li></ul></li><li><a href="#cong-yuan-cheng-fu-wu-qi-fu-zhi-dao-ben-di-fu-wu-qi">从远程服务器复制到本地服务器</a><ul><li><a href="#escape-figure-class-highlight-plain-table-tr-td-class-gutter-pre-span-class-line-1-span-br-span-class-line-2-span-br-pre-td-td-class-code-pre-span-class-line-span-br-span-class-line-cong-yuan-cheng-fu-zhi-dao-ben-di-de-scp-ming-ling-yu-shang-mian-de-ming-ling-lei-tong-zhi-yao-jiang-cong-ben-di-fu-zhi-dao-yuan-cheng-de-ming-ling-hou-mian-2-ge-can-shu-hu-huan-shun-xu-jiu-xing-liao-span-br-pre-td-tr-table-figure-escape"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">从远程复制到本地的scp命令与上面的命令雷同，只要将从本地复制到远程的命令后面2个参数互换顺序就行了。</span><br></pre></td></tr></table></figure></a></li></ul></li><li><a href="#li-zi-1-cong-yuan-chu-fu-zhi-wen-jian-dao-ben-di-mu-lu">例子 1 : 从远处复制文件到本地目录</a><ul><li><a href="#escape-figure-class-highlight-plain-table-tr-td-class-gutter-pre-span-class-line-1-span-br-span-class-line-2-span-br-span-class-line-3-span-br-span-class-line-4-span-br-pre-td-td-class-code-pre-span-class-line-span-br-span-class-line-scp-root-192-168-120-204-x2f-opt-x2f-soft-x2f-nginx-0-5-38-tar-gz-x2f-opt-x2f-soft-x2f-span-br-span-class-line-span-br-span-class-line-cong-192-168-120-204-ji-qi-shang-de-x2f-opt-x2f-soft-x2f-de-mu-lu-zhong-xia-zai-nginx-0-5-38-tar-gz-wen-jian-dao-ben-di-x2f-opt-x2f-soft-x2f-mu-lu-zhong-span-br-pre-td-tr-table-figure-escape"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">scp root@192.168.120.204:&#x2F;opt&#x2F;soft&#x2F;nginx-0.5.38.tar.gz &#x2F;opt&#x2F;soft&#x2F;</span><br><span class="line"></span><br><span class="line">从192.168.120.204机器上的&#x2F;opt&#x2F;soft&#x2F;的目录中下载nginx-0.5.38.tar.gz 文件到本地&#x2F;opt&#x2F;soft&#x2F;目录中</span><br></pre></td></tr></table></figure></a></li></ul></li><li><a href="#li-zi-2-cong-yuan-chu-fu-zhi-dao-ben-di">例子 2 : 从远处复制到本地</a></li><li><a href="#li-zi-3-shang-chuan-ben-di-wen-jian-dao-yuan-cheng-ji-qi-zhi-ding-mu-lu">例子 3 : 上传本地文件到远程机器指定目录</a></li><li><a href="#li-zi-4-shang-chuan-ben-di-mu-lu-dao-yuan-cheng-ji-qi-zhi-ding-mu-lu">例子 4 : 上传本地目录到远程机器指定目录</a></li><li><a href="#li-zi-5-cong-yuan-chu-mu-lu-dao-ben-di-zhi-ding-mu-lu-ssh-key">例子 5 : 从远处目录到本地指定目录 + ssh key</a><ul><li><a href="#escape-figure-class-highlight-plain-table-tr-td-class-gutter-pre-span-class-line-1-span-br-span-class-line-2-span-br-span-class-line-3-span-br-span-class-line-4-span-br-span-class-line-5-span-br-span-class-line-6-span-br-span-class-line-7-span-br-span-class-line-8-span-br-span-class-line-9-span-br-span-class-line-10-span-br-span-class-line-11-span-br-span-class-line-12-span-br-span-class-line-13-span-br-span-class-line-14-span-br-span-class-line-15-span-br-span-class-line-16-span-br-span-class-line-17-span-br-span-class-line-18-span-br-span-class-line-19-span-br-span-class-line-20-span-br-span-class-line-21-span-br-span-class-line-22-span-br-span-class-line-23-span-br-span-class-line-24-span-br-pre-td-td-class-code-pre-span-class-line-span-br-span-class-line-span-br-span-class-line-a-ji-qi-wu-mi-deng-lu-b-ji-qi-de-cao-zuo-ssh-root-ipaddress-span-br-span-class-line-span-br-span-class-line-2-tai-ji-qi-a-ben-di-b-yuan-cheng-span-br-span-class-line-span-br-span-class-line-in-a-ji-qi-span-br-span-class-line-1-yum-install-ssh-span-br-span-class-line-2-ssh-keygen-t-rsa-c-quot-472023527-qq-com-quot-span-br-span-class-line-3-cat-x2f-ssh-x2f-id-rsa-pub-x2f-x2f-id-rsa-shi-si-yao-span-br-span-class-line-span-br-span-class-line-jiang-zhe-ge-gong-yao-gei-ji-qi-b-zhong-span-br-span-class-line-span-br-span-class-line-span-br-span-class-line-in-b-ji-qi-span-br-span-class-line-jin-ru-x2f-root-x2f-ssh-x2f-mu-lu-zhong-jiang-a-ji-qi-de-gong-yao-gei-fu-zhi-dao-b-qi-wen-jian-sam-pub-span-br-span-class-line-ran-hou-zhi-xing-zhi-ling-span-br-span-class-line-span-br-span-class-line-gt-gt-cat-sam-pub-gt-gt-x2f-root-x2f-ssh-x2f-authorized-keys-jiang-id-rsa-pub-de-nei-rong-zhui-jia-dao-authorized-keys-zhong-span-br-span-class-line-span-br-span-class-line-span-br-span-class-line-jie-xia-lai-jiu-ke-yi-zhi-xing-scp-de-cao-zuo-liao-span-br-span-class-line-span-br-span-class-line-scp-r-root-192-168-120-204-x2f-opt-x2f-soft-x2f-mongodb-x2f-opt-x2f-soft-x2f-span-br-pre-td-tr-table-figure-escape"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">A机器无密登录 B 机器的操作: ssh root@ipAddress</span><br><span class="line"></span><br><span class="line">2台机器 A 本地   B 远程:</span><br><span class="line"></span><br><span class="line">In A机器：</span><br><span class="line">1.yum install ssh</span><br><span class="line">2.ssh-keygen -t rsa -C &quot;472023527@qq.com&quot;</span><br><span class="line">3.cat ~&#x2F;.ssh&#x2F;id_rsa.pub    &#x2F;&#x2F; id_rsa是私钥</span><br><span class="line"></span><br><span class="line">将这个公钥给机器 B 中</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">In B机器:</span><br><span class="line">进入&#x2F;root&#x2F;.ssh&#x2F;目录中 将 A 机器的公钥给复制到 B 器文件 : sam.pub</span><br><span class="line">然后执行指令:</span><br><span class="line"></span><br><span class="line">&gt;&gt; cat sam.pub &gt;&gt; &#x2F;root&#x2F;.ssh&#x2F;authorized_keys (将id_rsa.pub的内容追加到authorized_keys 中)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">接下来就可以执行 scp 的操作了:</span><br><span class="line"></span><br><span class="line">scp -r root@192.168.120.204:&#x2F;opt&#x2F;soft&#x2F;mongodb &#x2F;opt&#x2F;soft&#x2F;</span><br></pre></td></tr></table></figure></a></li><li><a href="#can-kao-wen-zhang">参考文章</a></li></ul></li></ul></div><h3><span id="shuo-ming">说明</span><a href="#shuo-ming" class="header-anchor"></a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">scp是secure copy的简写，用于在Linux下进行远程拷贝文件的命令，和它类似的命令有cp，</span><br><span class="line">不过cp只是在本机进行拷贝不能跨服务器，而且scp传输是加密的。可能会稍微影响一下速度。当你服务器硬盘变</span><br><span class="line">为只读 read only system时，用scp可以帮你把文件移出来。另外，scp还非常不占资源，不会提高多少系统</span><br><span class="line">负荷，在这一点上，rsync就远远不及它了。虽然 rsync比scp会快一点，但当小文件众多的情况下，rsync会</span><br><span class="line">导致硬盘I&#x2F;O非常高，而scp基本不影响系统正常使用。</span><br><span class="line"></span><br><span class="line">scp是linux系统下基于ssh登陆进行安全的远程文件拷贝命令。linux的scp命令可以在linux服务器之间复制文件和目录。</span><br></pre></td></tr></table></figure><hr><h3><span id="ming-ling-ge-shi">命令格式</span><a href="#ming-ling-ge-shi" class="header-anchor"></a></h3><ul><li>格式:</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">scp [参数] [源路径] [目标路径]</span><br></pre></td></tr></table></figure><hr><h3><span id="ming-ling-can-shu">命令参数</span><a href="#ming-ling-can-shu" class="header-anchor"></a></h3><ul><li>参数:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">scp [参数] [源路径] [目标路径]</span><br><span class="line"></span><br><span class="line">这里的参数:</span><br><span class="line"></span><br><span class="line">-1  强制scp命令使用协议ssh1  </span><br><span class="line"></span><br><span class="line">-2  强制scp命令使用协议ssh2  </span><br><span class="line"></span><br><span class="line">-4  强制scp命令只使用IPv4寻址  </span><br><span class="line"></span><br><span class="line">-6  强制scp命令只使用IPv6寻址  </span><br><span class="line"></span><br><span class="line">-B  使用批处理模式（传输过程中不询问传输口令或短语）  </span><br><span class="line"></span><br><span class="line">-C  允许压缩。（将-C标志传递给ssh，从而打开压缩功能）  </span><br><span class="line"></span><br><span class="line">-p 保留原文件的修改时间，访问时间和访问权限。  </span><br><span class="line"></span><br><span class="line">-q  不显示传输进度条。  </span><br><span class="line"></span><br><span class="line">-r  递归复制整个目录。  </span><br><span class="line"></span><br><span class="line">-v 详细方式显示输出。scp和ssh(1)会显示出整个过程的调试信息。这些信息用于调试连接，验证和配置问题。   </span><br><span class="line"></span><br><span class="line">-c cipher  以cipher将数据传输进行加密，这个选项将直接传递给ssh。   </span><br><span class="line"></span><br><span class="line">-F ssh_config  指定一个替代的ssh配置文件，此参数直接传递给ssh。  </span><br><span class="line"></span><br><span class="line">-i identity_file  从指定文件中读取传输时使用的密钥文件，此参数直接传递给ssh。    </span><br><span class="line"></span><br><span class="line">-l limit  限定用户所能使用的带宽，以Kbit&#x2F;s为单位。     </span><br><span class="line"></span><br><span class="line">-o ssh_option  如果习惯于使用ssh_config(5)中的参数传递方式，   </span><br><span class="line"></span><br><span class="line">-P port  注意是大写的P, port是指定数据传输用到的端口号   </span><br><span class="line"></span><br><span class="line">-S program  指定加密传输时所使用的程序。此程序必须能够理解ssh(1)的选项。</span><br></pre></td></tr></table></figure></li></ul><hr><h2><span id="shi-li">实例</span><a href="#shi-li" class="header-anchor"></a></h2><h3><span id="fu-zhi-wen-jian">复制文件</span><a href="#fu-zhi-wen-jian" class="header-anchor"></a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">命令执行后需要输入用户密码，第1个仅指定了远程的目录，文件名字不变，第2个指定了文件名:</span><br><span class="line">1. scp local_file remote_username@remote_ip:remote_folder</span><br><span class="line">2. scp local_file remote_username@remote_ip:remote_file</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">第3,4个没有指定用户名，命令执行后需要输入用户名和密码，第3个仅指定了远程的目录，文件名字不变，第4个指定了文件名</span><br><span class="line">3. scp local_file remote_ip:remote_folder  </span><br><span class="line">4. scp local_file remote_ip:remote_file</span><br></pre></td></tr></table></figure><hr><h3><span id="fu-zhi-mu-lu">复制目录</span><a href="#fu-zhi-mu-lu" class="header-anchor"></a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">scp -r local_folder remote_username@remote_ip:remote_folder  :  指定了用户名，命令执行后需要输入用户密码 </span><br><span class="line">scp -r local_folder remote_ip:remote_folder   :    没有指定用户名，命令执行后需要输入用户名和密码</span><br></pre></td></tr></table></figure><hr><h3><span id="cong-yuan-cheng-fu-wu-qi-fu-zhi-dao-ben-di-fu-wu-qi">从远程服务器复制到本地服务器</span><a href="#cong-yuan-cheng-fu-wu-qi-fu-zhi-dao-ben-di-fu-wu-qi" class="header-anchor"></a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">从远程复制到本地的scp命令与上面的命令雷同，只要将从本地复制到远程的命令后面2个参数互换顺序就行了。</span><br></pre></td></tr></table></figure><hr><h3><span id="li-zi-1-cong-yuan-chu-fu-zhi-wen-jian-dao-ben-di-mu-lu">例子 1 : 从远处复制文件到本地目录</span><a href="#li-zi-1-cong-yuan-chu-fu-zhi-wen-jian-dao-ben-di-mu-lu" class="header-anchor"></a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">scp root@192.168.120.204:&#x2F;opt&#x2F;soft&#x2F;nginx-0.5.38.tar.gz &#x2F;opt&#x2F;soft&#x2F;</span><br><span class="line"></span><br><span class="line">从192.168.120.204机器上的&#x2F;opt&#x2F;soft&#x2F;的目录中下载nginx-0.5.38.tar.gz 文件到本地&#x2F;opt&#x2F;soft&#x2F;目录中</span><br></pre></td></tr></table></figure><hr><h3><span id="li-zi-2-cong-yuan-chu-fu-zhi-dao-ben-di">例子 2 : 从远处复制到本地</span><a href="#li-zi-2-cong-yuan-chu-fu-zhi-dao-ben-di" class="header-anchor"></a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">scp -r root@192.168.120.204:&#x2F;opt&#x2F;soft&#x2F;mongodb &#x2F;opt&#x2F;soft&#x2F;</span><br><span class="line"></span><br><span class="line">从192.168.120.204机器上的&#x2F;opt&#x2F;soft&#x2F;中下载mongodb 目录到本地的&#x2F;opt&#x2F;soft&#x2F;目录来。</span><br></pre></td></tr></table></figure><hr><h3><span id="li-zi-3-shang-chuan-ben-di-wen-jian-dao-yuan-cheng-ji-qi-zhi-ding-mu-lu">例子 3 : 上传本地文件到远程机器指定目录</span><a href="#li-zi-3-shang-chuan-ben-di-wen-jian-dao-yuan-cheng-ji-qi-zhi-ding-mu-lu" class="header-anchor"></a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">scp &#x2F;opt&#x2F;soft&#x2F;nginx-0.5.38.tar.gz root@192.168.120.204:&#x2F;opt&#x2F;soft&#x2F;scptest</span><br><span class="line"></span><br><span class="line">复制本地opt&#x2F;soft&#x2F;目录下的文件nginx-0.5.38.tar.gz 到远程机器192.168.120.204的opt&#x2F;soft&#x2F;scptest目录</span><br></pre></td></tr></table></figure><hr><h3><span id="li-zi-4-shang-chuan-ben-di-mu-lu-dao-yuan-cheng-ji-qi-zhi-ding-mu-lu">例子 4 : 上传本地目录到远程机器指定目录</span><a href="#li-zi-4-shang-chuan-ben-di-mu-lu-dao-yuan-cheng-ji-qi-zhi-ding-mu-lu" class="header-anchor"></a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">scp -r &#x2F;opt&#x2F;soft&#x2F;mongodb root@192.168.120.204:&#x2F;opt&#x2F;soft&#x2F;scptes</span><br><span class="line"></span><br><span class="line">上传本地目录 &#x2F;opt&#x2F;soft&#x2F;mongodb到远程机器192.168.120.204上&#x2F;opt&#x2F;soft&#x2F;scptest的目录中去</span><br></pre></td></tr></table></figure><hr><h3><span id="li-zi-5-cong-yuan-chu-mu-lu-dao-ben-di-zhi-ding-mu-lu-ssh-key">例子 5 : 从远处目录到本地指定目录 + ssh key</span><a href="#li-zi-5-cong-yuan-chu-mu-lu-dao-ben-di-zhi-ding-mu-lu-ssh-key" class="header-anchor"></a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">A机器无密登录 B 机器的操作: ssh root@ipAddress</span><br><span class="line"></span><br><span class="line">2台机器 A 本地   B 远程:</span><br><span class="line"></span><br><span class="line">In A机器：</span><br><span class="line">1.yum install ssh</span><br><span class="line">2.ssh-keygen -t rsa -C &quot;472023527@qq.com&quot;</span><br><span class="line">3.cat ~&#x2F;.ssh&#x2F;id_rsa.pub    &#x2F;&#x2F; id_rsa是私钥</span><br><span class="line"></span><br><span class="line">将这个公钥给机器 B 中</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">In B机器:</span><br><span class="line">进入&#x2F;root&#x2F;.ssh&#x2F;目录中 将 A 机器的公钥给复制到 B 器文件 : sam.pub</span><br><span class="line">然后执行指令:</span><br><span class="line"></span><br><span class="line">&gt;&gt; cat sam.pub &gt;&gt; &#x2F;root&#x2F;.ssh&#x2F;authorized_keys (将id_rsa.pub的内容追加到authorized_keys 中)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">接下来就可以执行 scp 的操作了:</span><br><span class="line"></span><br><span class="line">scp -r root@192.168.120.204:&#x2F;opt&#x2F;soft&#x2F;mongodb &#x2F;opt&#x2F;soft&#x2F;</span><br></pre></td></tr></table></figure><hr><h2><span id="can-kao-wen-zhang">参考文章</span><a href="#can-kao-wen-zhang" class="header-anchor"></a></h2><ul><li>来自 : <a href="https://www.cnblogs.com/peida/archive/2013/03/15/2960802.html" target="_blank" rel="noopener">https://www.cnblogs.com/peida/archive/2013/03/15/2960802.html</a></li><li>ssh无秘登录的操作 : <a href="https://blog.csdn.net/lizhiyuan_eagle/article/details/80494512" target="_blank" rel="noopener">https://blog.csdn.net/lizhiyuan_eagle/article/details/80494512</a></li></ul><div class="post-announce">感谢您的阅读，本文由 <a href="https://zuoyoulai.github.io">左之右</a> 版权所有。如若转载，请注明出处：左之右（<a href="https://zuoyoulai.github.io/2020/01/01/Linux-scp/">https://zuoyoulai.github.io/2020/01/01/Linux-scp/</a>）</div><div class="post__prevs"><div class="post__prev"><a href="/2019/12/31/Git-md/" title="Git使用内容"><i class="iconfont icon-prev"></i>Git使用内容</a></div><div class="post__prev post__prev--right"><a href="/2020/01/02/Go-Struct1/" title="Go 指针,数组,切片,Map">Go 指针,数组,切片,Map<i class="iconfont icon-next"></i></a></div></div></div></article></div><aside class="page__sidebar"><form id="page-search-from" class="page__search-from" action="/search/"><label class="search-form__item"><input class="input" type="text" name="search" placeholder="Search..."> <i class="iconfont icon-search"></i></label></form><div class="sidebar__block"><h3 class="block__title">简介</h3><p class="block__text">A Java Programmer,Never To Late...</p></div><div class="sidebar__block"><h3 class="block__title">文章分类</h3><ul class="block-list"><li class="block-list-item"><a class="block-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E6%96%87%E7%AB%A0/">学习文章</a><span class="block-list-count">1</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/mybatis/">mybatis</a><span class="block-list-count">1</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/Redis/">Redis</a><span class="block-list-count">1</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/Mq/">Mq</a><span class="block-list-count">1</span><ul class="block-list-child"><li class="block-list-item"><a class="block-list-link" href="/categories/Mq/Rocketmq/">Rocketmq</a><span class="block-list-count">1</span></li></ul></li><li class="block-list-item"><a class="block-list-link" href="/categories/Linux/">Linux</a><span class="block-list-count">5</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/Hexo/">Hexo</a><span class="block-list-count">1</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/Go/">Go</a><span class="block-list-count">3</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/GitHub/">GitHub</a><span class="block-list-count">1</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/Git/">Git</a><span class="block-list-count">1</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/Docker/">Docker</a><span class="block-list-count">1</span></li></ul></div><div class="sidebar__block"><h3 class="block__title">最新文章</h3><ul class="block-list latest-post-list"><li class="latest-post-item"><a href="/2020/01/22/mybatis-batch/" title="mybatis-batch 批处理"><div class="item__cover"><img src="https://i.loli.net/2020/01/22/dtv5ELn6HXZaIru.jpg" alt="mybatis-batch 批处理"></div><div class="item__info"><h3 class="item__title">mybatis-batch 批处理</h3><span class="item__text">2020-01-22</span></div></a></li><li class="latest-post-item"><a href="/2020/01/13/Redis%E6%9C%8D%E5%8A%A1%E4%BF%A1%E6%81%AF/" title="运维Redis服务信息"><div class="item__cover"><img src="https://i.loli.net/2020/01/13/y9jnYUHgdi3ekVt.jpg" alt="运维Redis服务信息"></div><div class="item__info"><h3 class="item__title">运维Redis服务信息</h3><span class="item__text">2020-01-13</span></div></a></li><li class="latest-post-item"><a href="/2020/01/09/%E7%BA%BF%E4%B8%8A%E7%B3%BB%E7%BB%9F%E8%BF%90%E8%A1%8C%E4%BF%A1%E6%81%AF%E6%9F%A5%E7%9C%8B/" title="线上系统运行信息查看 shell 脚本"><div class="item__cover"><img src="https://i.loli.net/2019/12/30/Rim3w489djgM5oX.jpg" alt="线上系统运行信息查看 shell 脚本"></div><div class="item__info"><h3 class="item__title">线上系统运行信息查看 shell 脚本</h3><span class="item__text">2020-01-09</span></div></a></li><li class="latest-post-item"><a href="/2020/01/09/Linux-Du-Df/" title="每天学习一个 Linux 指令 - du 与 df 指令"><div class="item__cover"><img src="https://i.loli.net/2019/12/27/RNPFAaSlXDMTEIQ.jpg" alt="每天学习一个 Linux 指令 - du 与 df 指令"></div><div class="item__info"><h3 class="item__title">每天学习一个 Linux 指令 - du 与 df 指令</h3><span class="item__text">2020-01-09</span></div></a></li></ul></div><div class="sidebar__block"><h3 class="block__title">文章标签</h3><ul class="block-list tag-list clearfix"><li class="tag-item"><a class="tag-link" href="/tags/BeeGo/">BeeGo</a></li><li class="tag-item"><a class="tag-link" href="/tags/Docker/">Docker</a></li><li class="tag-item"><a class="tag-link" href="/tags/Git/">Git</a></li><li class="tag-item"><a class="tag-link" href="/tags/GitHub/">GitHub</a></li><li class="tag-item"><a class="tag-link" href="/tags/Go/">Go</a></li><li class="tag-item"><a class="tag-link" href="/tags/Hexo/">Hexo</a></li><li class="tag-item"><a class="tag-link" href="/tags/Linux/">Linux</a></li><li class="tag-item"><a class="tag-link" href="/tags/Redis/">Redis</a></li><li class="tag-item"><a class="tag-link" href="/tags/Rocketmq/">Rocketmq</a></li><li class="tag-item"><a class="tag-link" href="/tags/Shell/">Shell</a></li><li class="tag-item"><a class="tag-link" href="/tags/Vim/">Vim</a></li><li class="tag-item"><a class="tag-link" href="/tags/mybatis/">mybatis</a></li><li class="tag-item"><a class="tag-link" href="/tags/sql/">sql</a></li><li class="tag-item"><a class="tag-link" href="/tags/%E5%AD%A6%E4%B9%A0%E6%96%87%E7%AB%A0/">学习文章</a></li><li class="tag-item"><a class="tag-link" href="/tags/%E8%BF%90%E7%BB%B4/">运维</a></li></ul></div></aside></main><footer class="page__footer"><section class="footer__top"><div class="page__container footer__container"><div class="footer-top__item footer-top__item--2"><h3 class="item__title">关于</h3><div class="item__content"><p class="item__text">未知为恐惧,任何事情都不要觉得很晚,做了才知道是否有意义。</p><ul class="footer__contact-info"><li class="contact-info__item"><i class="iconfont icon-address"></i> <span>Guangzhou, Guangdong Province, China</span></li><li class="contact-info__item"><i class="iconfont icon-email2"></i> <span>472023527@qq.com</span></li></ul></div></div><div class="footer-top__item footer__image"><img src="https://i.loli.net/2019/12/30/AFVmBhJrI9L7k1c.jpg" alt="logo" title="左之右"></div></div></section><section class="footer__bottom"><div class="page__container footer__container"><p class="footer__copyright">© <a href="https://github.com/Mrminfive/hexo-theme-skapp" target="_blank">Skapp</a> 2017 powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, made by <a href="https://github.com/Mrminfive" target="_blank">minfive</a>.</p><ul class="footer__social-network clearfix"></ul></div></section></footer><div id="back-top" class="back-top back-top--hidden js-hidden"><i class="iconfont icon-top"></i></div></div><script src="/js/common.js"></script><script src="/js/page/post.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></body></html>